const HALF_BAND_COEFFICIENTS: [f32; 64] = [ 
  9.11021267e-01,  1.69413767e-01, -1.52525076e-01,  1.36087029e-01,
 -1.20201255e-01,  1.04964128e-01, -9.04647614e-02,  7.67831409e-02,
 -6.39884810e-02,  5.21378325e-02, -4.12749958e-02,  3.14297677e-02,
 -2.26175433e-02,  1.48392822e-02, -8.08183399e-03,  2.31860951e-03,
  2.48943091e-03, -6.39250752e-03,  9.45051570e-03, -1.17313368e-02,
  1.33090217e-02, -1.42619065e-02,  1.46707179e-02, -1.46167277e-02,
  1.41800063e-02, -1.34378241e-02,  1.24632393e-02, -1.13239037e-02,
  1.00811076e-02, -8.78907615e-03,  7.49452047e-03, -6.23643626e-03,
  5.04613634e-03, -3.94749502e-03,  2.95737715e-03, -2.08622019e-03,
  1.33873500e-03, -7.14689660e-04,  2.09741131e-04,  1.83718751e-04,
 -4.75733735e-04,  6.77996869e-04, -8.03129761e-04,  8.64044640e-04,
 -8.73401248e-04,  8.43165390e-04, -7.84271086e-04,  7.06383804e-04,
 -6.17758448e-04,  5.25182678e-04, -4.33993825e-04,  3.48156220e-04,
 -2.70385009e-04,  2.02302608e-04, -1.44614622e-04,  9.72932478e-05,
 -5.97578194e-05,  3.10440362e-05, -9.95543934e-06, -4.80724955e-06,
  1.45413594e-05, -2.04627353e-05,  2.36505865e-05, -2.50146478e-05
];

#[derive(Default)]
pub struct FirFilter<const N: usize>;

impl<const N: usize> FirFilter<N> {
  pub fn process(&self, input: f32) -> f32 {
    let coefficients = match N {
      2 => HALF_BAND_COEFFICIENTS,
      _ => HALF_BAND_COEFFICIENTS
    };

    coefficients.iter().map(|coeff| {
      input * coeff
    }).sum()
  }
}